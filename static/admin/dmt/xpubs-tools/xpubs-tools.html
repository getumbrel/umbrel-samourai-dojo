<div id="xpubs-tool">
  <h1>XPUBS TOOL</h1>

  <div class="box-context">Check if a XPUB is tracked by your Dojo. Import and track a new XPUB. Rescan the full history of a XPUB.</div>

  <div class="row box-main">
    <!-- XPUB SEARCH FORM -->
    <div id="xpubs-tool-search-form" class="fullwidth box">
      <div class="box-body">
        <span>Check if </span>
        <input id="xpub" type="text" placeholder="XPUB">
        <span> is tracked by your Dojo </span>
        <button id="btn-xpub-search-go"
          class="btn btn-success"
          type="button">GO</button>
      </div>
    </div>

    <!-- XPUB IMPORT -->
    <div id="xpubs-tool-import" class="fullwidth box">
      <div class="box-body">
        <div id="import-deriv-first-import-msg">
          <span>This XPUB isn't tracked by your Dojo. Do you want to import it and track its activity?</span>
        </div>
        <div id="import-deriv-reimport-msg">
          <span>Do you want to reimport this XPUB with a new derivation type?</span>
          <br/><br/>
          <span>WARNING: Are you sure you need to retype this XPUB? Generally, the 'auto' derivation will type your XPUB correctly.</span>
          <br/>
          <span>Retyping your XPUB is reserved for very specific circumstances, and should not be taken lightly.</span>
          <br/>
          <span>If in doubt, contact <a href="mailto:support@samouraiwallet.com">support@samouraiwallet.com</a></span>
        </div>
        <div class="spacer20"></div>
        <div>
          <span>Import </span>
          <span id="import-xpub"></span>
          <span> with a </span>
          <select id="import-deriv-type" type="select" value="auto">
            <option value="auto" selected>auto</option>
            <option value="bip44">BIP44</option>
            <option value="bip49">BIP49</option>
            <option value="bip84">BIP84</option>
          </select>
          <span> derivation</span>
          <button id="btn-xpub-import-go" class="btn btn-success" type="button">IMPORT</button>
          <button id="btn-xpub-import-cancel" class="btn btn-success" type="button">CANCEL</button>
        </div>
      </div>
    </div>

    <!-- XPUB DETAILS -->
    <div id="xpubs-tool-details">
      <div id="xpubs-tool-header" class="row box-main">
        <div class="fullwidth box">
          <div id="xpub-value" class="box-body center"></div>
        </div>
      </div>

      <div id="xpubs-tool-actions" class="row box-main">
        <div class="center">
          <button id="btn-xpub-details-rescan" class="btn btn-success" type="button">RESCAN</button>
          <button id="btn-xpub-details-retype" class="btn btn-success" type="button">RETYPE</button>
          <button id="btn-xpub-details-delete" class="btn btn-success" type="button">DELETE</button>
          <button id="btn-xpub-details-export" class="btn btn-success" type="button">CSV EXPORT</button>
          <button id="btn-xpub-details-reset" class="btn btn-success" type="button">SEARCH ANOTHER XPUB</button>
        </div>
      </div>

      <div id="xpubs-rescans-actions" class="row box-main">
        <div class="center">
          <span>Rescan this XPUB starting at index</span>
          <input id="rescan-start-idx" type="text" value="0" placeholder="index">
          <span> with a lookahead of </span>
          <input id="rescan-lookahead" type="text" value="100" placeholder="#addresses">
          <span> addresses</span>
          <button id="btn-xpub-rescan-go" class="btn btn-success" type="button">RESCAN</button>
          <button id="btn-xpub-rescan-cancel" class="btn btn-success" type="button">CANCEL</button>
        </div>
      </div>

      <div id="xpubs-deletion-actions" class="row box-main">
        <div class="center">
          <span>Do you want to delete this XPUB?</span>
          <button id="btn-xpub-delete-go" class="btn btn-success" type="button">DELETE</button>
          <button id="btn-xpub-delete-cancel" class="btn btn-success" type="button">CANCEL</button>
        </div>
      </div>

      <div id="xpubs-export-actions" class="row box-main">
        <div class="center">
          <span>Do you want to export a list of </span>
          <select id="export-type" type="select" value="full">
            <option value="full" selected>all the transactions</option>
            <option value="notNull">the transactions modifying the balance</option>
          </select>
          <span> of this XPUB?</span>
          <button id="btn-xpub-export-go" class="btn btn-success" type="button">EXPORT</button>
          <button id="btn-xpub-export-cancel" class="btn btn-success" type="button">CANCEL</button>
        </div>
      </div>

      <div id="xpubs-tool-details-row1" class="row box-main">
        <!-- GENERAL INFO -->
        <div id="box-general" class="halfwidth-left box">
          <div class="box-header">GENERAL INFO</div>
          <div class="spacer10"></div>
          <div class="box-body">
            <table>
              <tr>
                <td class="table-label">Derivation Type</td>
                <td class="table-value" id="xpub-deriv-type"></td>
              </tr>
              <tr>
                <td class="table-label">Balance</td>
                <td class="table-value" id="xpub-balance"></td>
              </tr>
              <tr>
                <td class="table-label">Number of Txs</td>
                <td class="table-value" id="xpub-nb-txs"></td>
              </tr>
              <tr>
                <td class="table-label">Number of UTXOs</td>
                <td class="table-value" id="xpub-nb-utxos"></td>
              </tr>
              <tr>
                <td class="table-label">Tracked since</td>
                <td class="table-value" id="xpub-import-date"></td>
              </tr>
            </table>
          </div>
        </div>
        <!-- DERIVATION INFO -->
        <div id="box-derivation" class="halfwidth-right box">
          <div class="box-header">XPUB DERIVATION INFO</div>
          <div class="spacer10"></div>
          <div class="box-body">
            <table>
              <tr>
                <td class="table-label">Account</td>
                <td class="table-value" id="xpub-deriv-account"></td>
                <td class="table-label">Depth</td>
                <td class="table-value" id="xpub-deriv-depth"></td>
              </tr>
            </table>
            <div class="spacer10"></div>
            <table id="table-deriv-idx">
              <tr>
                <td class="table-label" colspan="2">First unused indices</td>
                <td class="table-label" colspan="2">Last derived indices</td>
              </tr>
              <tr>
                <td class="table-label">External</td>
                <td class="table-value" id="xpub-idx-unused-ext"></td>
                <td class="table-label">External</td>
                <td class="table-value" id="xpub-idx-derived-ext"></td>
              </tr>
              <tr>
                <td class="table-label">Internal</td>
                <td class="table-value" id="xpub-idx-unused-int"></td>
                <td class="table-label">Internal</td>
                <td class="table-value" id="xpub-idx-derived-int"></td>
              </tr>
            </table>
            <div class="spacer10"></div>
          </div>
        </div>
      </div>

      <div id="xpubs-tool-details-row2" class="row box-main">
        <!-- TXS LIST -->
        <div id="box-txs" class="halfwidth-left box">
          <div class="box-header">MOST RECENT TRANSACTIONS</div>
          <div class="spacer10"></div>
          <div class="box-body">
            <table id="xpub-table-list-txs">
              <tbody>
                <tr>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- UTXOS LIST -->
        <div id="box-utxos" class="halfwidth-right box">
          <div class="box-header">UNSPENT TRANSACTION OUTPUTS</div>
          <div class="spacer10"></div>
          <div class="box-body">
            <table id="xpub-table-list-utxos">
              <tbody>
                <tr>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script include-js="xpubs-tools/xpubs-tools.js"></script>